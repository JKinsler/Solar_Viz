{% extends 'base.html' %}

{% block head %}
  
{# jQuery #}
<script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin></script>

{# Moment: allows you to use time scales. If you want to use time scales,
     you have to import Moment BEFORE Chart.js #}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

{# ChartJS #}
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.js"></script>

{# randomColor: generate random colors #}
<script src="https://cdnjs.cloudflare.com/ajax/libs/randomcolor/0.5.4/randomColor.min.js"></script>

{% endblock %}


{% block body %}

<!-- <h2>Solar Data Vizualization</h2>
  <p><a href="/">go to the home page</a></p>

<h2>Yearly Production Data for All Utilities - Jinja</h2> 
  <p>Showing table data that was implemented with Jinja</p>
  <table class="showing_solar_data" id="YPT">
    <tr>
      <th>
          year
      </th>
      <th>
          production
      </th>
    </tr>
    {% for year, production in production_by_year.items() %}
    <tr>
      <td>
        {{ year }}
      </td>
      <td>
        {{production}} kWh
      </td>
    </tr>
    {% endfor %}
  </table>

<h4>Congratulations Johanna on completing your MVP!</h4> -->

<h2>Yearly Production Data for All Utilities - chart.js</h2>

<!-- <div id="site content">
  <p>Practicing a basic chart with Chart.js</p>
  <canvas id="bar-chart"></canvas> -->
  
  <p>Practicing a bar chart with solar data in Chart.js</p>
  <canvas id="bar-solar"></canvas>
</div>

{% endblock %}


{% block js %}
<!-- <script src="/static/js//basic_bar_chart.js"></script> -->

<script>
  const timeFormat = 'YYYY';

  const solarBarChart = new Chart(
    $('#bar-solar'),
    {
      type: 'bar',
      data: [{x: "2014", y: 7000}, 
            {x: "2015", y: 8000},
            {x: "2016", y: 9000},
            {x: "2017", y: 10000}],
      options: {
        scales: {
          xAxes: [{
            type: 'time',
            time: {format: timeFormat}
          }]
        }
      }
    }
  );
</script>
{% endblock %}

<!-- check out this example in the documentation
https://www.chartjs.org/docs/latest/axes/cartesian/time.html#time-cartesian-axis -->