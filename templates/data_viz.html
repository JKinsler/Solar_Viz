{% extends 'base.html' %}

{% block head %}
{% endblock %}


{% block body %}

<!-- <h2>Yearly Production Data for All Utilities - Jinja</h2> 
  <p>Showing table data that was implemented with Jinja</p>
  <table class="showing_solar_data" id="YPT">
    <tr>
      <th>
          year
      </th>
      <th>
          production
      </th>
    </tr>
    {% for year, production in production_by_year.items() %}
    <tr>
      <td>
        {{ year }}
      </td>
      <td>
        {{production}} kWh
      </td>
    </tr>
    {% endfor %}
  </table> -->

<!-- <h4>Congratulations Johanna on completing your MVP!</h4> -->

<div class="container container-fluid">
  <h1>Annual Solar Energy Generation</h1>
  <h4>About the data</h4>
  <p>Solar energy capacity has been increasingly added to the California energy grid since the early 2000s. 
  <br>  
  <br>
  The State of California promoted the growth of renewable energy by forming partnerships and providing funding for eligible solar utility construction projects. After completion of the construction, energy generation data was tracked for several years on these projects. The dataset that resulted is called the 'CSI working dataset'. This page shows CSI participation from three of California's large energy utilities: 
    <a href="https://www.pge.com/">Pacific Gas and Electric</a>,
    <a href="https://www.sdge.com/">San Diego Gas and Electric</a> and,
    <a href="https://www.sce.com/">Southern California Edison</a>.
  </p>

  <div id="site content">
    <canvas id="bar-chart2"></canvas>
    <p>The chart above shows the combined solar energy production from CSI's participating utilties. The downward trend after 2016 might be accounted for my the end of the CSI funding cycle, and therefore, the end of data reporting.</p>
  </div>

  <h4>Want to know more?</h4>
  <!--   <p>Click on a year to get more information</p> -->
  <!--   <ul>
      {% for year in years %}
        <li>
          <a href="/data_viz/{{ year }}">
            {{ year }}
          </a>
        </li>
      {% endfor %}
    </ul> -->
  
  <form id="year_selection" method="post" action="/data_viz">
    <label>Select a year:</label>
    <select name = year>
      {% for year in years %}
      <option>
        {{ year }}
      </option>
    {% endfor %}
      <!-- <option value="example">example text</option> -->
    </select>
    <button type="Submit">Submit</button>
  </form>
  <p>For those who are really curious, see the raw data on the
    <a href="https://www.californiadgstats.ca.gov/downloads/">California CSI website.</a>
  </p>
</div>

{% endblock %}


{% block js %}
<script src="/static/js/bar-chart-five.js"></script>


{% endblock %}

<!-- check out this example in the documentation
https://www.chartjs.org/docs/latest/axes/cartesian/time.html#time-cartesian-axis -->